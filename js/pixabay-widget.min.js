!function(){function e(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):""}function t(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function a(e,t,a,r,n){var i="pxw_callback_"+s;return window[i]=function(o){e(o,t,a,r,n);try{delete window[i]}catch(s){}},s++,i}function r(e,t){for(var a=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e;){if(a.bind(e)(t))return e;e=e.parentElement}}function n(e){for(var t="",a=0,r=e.attributes;a<r.length;a++)"data-attrstr"!=r[a].name&&"data-prefilled"!=r[a].name&&(t+=r[a].name+r[a].value);return t}function i(){for(var e=0,t=document.querySelectorAll("."+d.class_name);e<t.length;e++){var r=t[e];if(n(r)!=r.getAttribute("data-attrstr")){r.setAttribute("data-attrstr",n(r));var i=parseInt(r.getAttribute("data-page"))||1,s=parseInt(r.getAttribute("data-per-page"))||d.per_page,l=r.getAttribute("data-search")||"",c=r.getAttribute("data-user")||"";s=s>100?100:s,c&&(l="user:"+c+" "+l);var g="https://pixabay.com/api/?key="+d.key+"&lang="+(r.getAttribute("data-lang")||d.lang)+"&order="+(r.getAttribute("data-order")||d.order)+"&image_type="+(r.getAttribute("data-image-type")||d.image_type)+"&safesearch="+(r.getAttribute("data-safesearch")||d.safesearch)+"&editors_choice="+(r.getAttribute("data-editors-choice")||d.editors_choice)+"&per_page="+s+"&page="+i+"&q="+encodeURIComponent(l);if(r.getAttribute("data-prefilled"))r.removeAttribute("data-prefilled"),APIResponse(!1,r,i,s,g);else if(g in o)APIResponse(o[g],r,i,s,g);else{var u=document.createElement("script");u.src=g+"&callback="+a(APIResponse,r,i,s,g),document.body.appendChild(u)}}}}var o={},s=0,d={class_name:"pixabay_widget",row_height:170,per_page:20,max_rows:0,truncate:!0,lang:"en",image_type:"all",safesearch:!1,editors_choice:!1,order:"popular",target:"",navpos:"bottom",branding:!1,branding_text:"",branding_text_link:"",branding_text_sufx:"",prev:"◄ PREV",next:"NEXT ►"};if("object"==typeof pixabayWidget)for(var l in pixabayWidget)Object.prototype.hasOwnProperty.call(pixabayWidget,l)&&(d[l]=pixabayWidget[l]);if(!("key"in d))return console.log('API key missing: Your Pixabay API key must be defined as "key" in the pixabayWidget configuration array.'),!1;styles="** .noselect { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }** a, ** b { color: #4e99c7; text-decoration: none; font-weight: normal; cursor: pointer; transition: .3s; }** a:hover, ** b:hover { opacity: .7; }** a img { border: 0; }** **_nav { clear: both; padding: 3px 7px; font: normal 12px arial, sans-serif; color: #777; }** **_nav span { color: #ddd; cursor: default; }** .branding { float: right; }** .branding_text { float: right; }**.flex_grid { overflow: hidden; }**.flex_grid .item { float: left; margin: 1px; box-sizing: content-box; overflow: hidden; position: relative;  }**.flex_grid .item img { display: block; width: auto; height: 100%; background: #fff; transition: .3s; }**.flex_grid .item img:hover { opacity: .85; }".replace(/\*\*/g,"."+d.class_name);var c=document.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=styles:c.appendChild(document.createTextNode(styles)),document.getElementsByTagName("head")[0].appendChild(c);var g=function(){function e(e){function t(e,a,r,n){function i(e){r.maxRows&&g>r.maxRows||r.truncate&&e&&g>1?p[o][0].style.display="none":(p[o][4]&&(p[o][3].setAttribute("src",p[o][4]),p[o][4]=""),p[o][0].style.width=s+"px",p[o][0].style.height=m+"px",p[o][0].style.display="block")}for(var o,s,d,l,c=1,g=1,u=e.clientWidth-2,p=[],f=0,m=r.rowHeight,b=0;b<a.length;b++)if(p.push(a[b]),f+=a[b][2]+r.margin,f>=u){var h=p.length*r.margin;for(c=(u-h)/(f-h),m=Math.ceil(r.rowHeight*c),d=0,o=0;o<p.length;o++)s=Math.ceil(p[o][2]*c),d+=s+r.margin,d>u&&(s-=d-u),i();p=[],f=0,g++}for(o=0;o<p.length;o++)s=Math.floor(p[o][2]*c),l=Math.floor(r.rowHeight*c),i(!0);n||u==e.clientWidth||t(e,a,r,!0)}if(document.querySelector){var a={selector:0,container:".item",object:"img",rowHeight:180,maxRows:0,truncate:0};for(var r in e)e.hasOwnProperty(r)&&(a[r]=e[r]);for(var n="object"==typeof a.selector?[a.selector]:document.querySelectorAll(a.selector),i=0;i<n.length;i++){var o=n[i],s=o.querySelectorAll(a.container),d=[],l=(new Date).getTime();if(s.length){var c=window.getComputedStyle?getComputedStyle(s[0],null):s[0].currentStyle;a.margin=(parseInt(c.marginLeft)||0)+(parseInt(c.marginRight)||0)+(Math.round(parseFloat(c.borderLeftWidth))||0)+(Math.round(parseFloat(c.borderRightWidth))||0);for(var g=0;g<s.length;g++){var u=s[g],p=parseInt(u.getAttribute("data-w")),f=p*(a.rowHeight/parseInt(u.getAttribute("data-h"))),m=u.querySelector(a.object);d.push([u,p,f,m,m.getAttribute("data-src")])}t(o,d,a);var b=function(){t(o,d,a)};document.addEventListener?(window["flexImages_listener"+l]=b,window.removeEventListener("resize",window["flexImages_listener"+o.getAttribute("data-flex-t")]),delete window["flexImages_listener"+o.getAttribute("data-flex-t")],window.addEventListener("resize",window["flexImages_listener"+l])):o.onresize=b,o.setAttribute("data-flex-t",l)}}}}return e}();!function(){"function"==typeof define&&define.amd?define("flexImages",function(){return g}):"undefined"!=typeof module&&module.exports?module.exports=g:window.flexImages=g}(),APIResponse=function(a,r,n,i,s){var l="",c="",u=parseInt(r.getAttribute("data-row-height"))||d.row_height,p=parseInt(r.getAttribute("data-max-rows"))||d.max_rows,f=r.getAttribute("data-truncate")||d.truncate,m=r.getAttribute("data-target")||d.target,b=r.getAttribute("data-branding")||d.branding,h=r.getAttribute("data-branding-text")||d.branding_text,v=r.getAttribute("data-branding-text-link")||d.branding_text_link,x=r.getAttribute("data-branding-text-sufx")||d.branding_text_sufx,y=r.getAttribute("data-prev")||d.prev,w=r.getAttribute("data-next")||d.next,_=r.getAttribute("data-navpos")||d.navpos;if((30>u||u>180)&&(u=170),"false"==f?f=0:"true"==f&&(f=1),"false"==b?b=0:"true"==b&&(b=1),0!=a){o[s]=a;var A=a.totalHits>i&&y&&w;(A||b)&&(l+='<div class="noselect '+d.class_name+'_nav">',b&&(l+='<div class="branding">'+h+'&nbsp;<a href="'+v+'" target="'+m+'">'+x+"</div>"),A&&(l+=n>1?'<b class="'+d.class_name+'_prev">'+y+"&nbsp;</b>":"<span>"+y+"&nbsp;</span>",l+=n*i<a.totalHits?'<b class="'+d.class_name+'_next">&nbsp; '+w+"</b>":"<span>&nbsp; "+w+"</span>"),l+="</div>"),"top"==_&&(c=l);for(var I=0,k=a.hits;I<k.length;I++){var S=k[I].previewWidth,E=k[I].previewHeight,L=k[I].previewURL;u>E-10&&(S*=180/(E+1),E=180,L=L.replace("_150","__180")),c+='<div class="item" data-w="'+S+'" data-h="'+E+'"><a title="'+e(t(k[I].tags))+'" href="'+k[I].pageURL+'" target="'+m+'"><img src="https://pixabay.com/static/img/blank.gif" data-src="'+L+'"></a></div>'}"bottom"==_&&(c+=l),r.innerHTML=c}r.className.indexOf("flex_grid")<0&&(r.className+=" flex_grid"),new g({selector:r,rowHeight:u,maxRows:p,truncate:f})},document.addEventListener?document.addEventListener("click",function(e){var t=0;if(e.target.className==d.class_name+"_prev"?t=-1:e.target.className==d.class_name+"_next"&&(t=1),t){var a=r(e.target,"."+d.class_name),n=(parseInt(a.getAttribute("data-page"))||1)+t;n&&(a.setAttribute("data-page",n),i()),e.preventDefault()}}):(d.prev="",d.next=""),this.initPixabayWidget=i,/bot|crawl|spider/i.test(navigator.userAgent)||("loading"!=document.readyState?i():document.addEventListener?document.addEventListener("DOMContentLoaded",i):document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&i()}))}();